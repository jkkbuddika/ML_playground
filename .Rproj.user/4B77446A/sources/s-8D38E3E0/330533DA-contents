## Unsepervised Machine Learning Training
## This script contain practice exercises to learn clustering and dimension reduction

# Load required libraries
library(tidyverse)

# Let's make a tibble
df <- tibble(Patient_ID=c("P1", "P2", "P3", "P4"),
             IRF4=c(11, 13, 2, 1),
             OCT4=c(10, 13, 4, 3),
             PAX6=c(1, 3, 10, 9))
df

# Then let's plot an see any obvious trends
p <- df %>%
  gather(key = Gene, value = Norm_Count, c(IRF4:PAX6)) %>%
  ggplot(aes(x = Gene, y = Norm_Count, fill = Patient_ID)) +
  geom_bar(stat = "identity") + facet_wrap(~Patient_ID, ncol = 1)

p

# First step: Distance matrics
# Several methods: Manhattan distance/L1 norm, Euclidean Distance/L2 norm and
# correlation distance

# Let's make the distance matrics
dist(df, method = "manhattan")


head(df)

p<-ggplot(data=df, aes(x=Patient_ID, y=IRF4)) +
  geom_bar(stat="identity")
p

select(metadata, sample, clade, cit, genome_size)

